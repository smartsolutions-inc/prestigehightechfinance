create table personal_data(
  personal_id INT(21) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
  fnames varchar(48) NOT NULL ,
  lnames varchar(48) NOT NULL ,
  phone_num varchar(48) NOT NULL ,
  cel_num varchar(48) NOT NULL ,
  address varchar(48) NOT NULL ,
  photo varchar(48) NOT NULL ,
  zip INT(7),
  signup_id INT(21) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT,
  PRIMARY KEY personal_id
  FOREIGN KEY signup_id REFERENCES signup(signup_id)

);
create table log_track(
  log_in INT(21) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ip_address varchar(256) NOT NULL ,
  user_name varchar(48) NOT NULL ,
  public_key varchar(256) NOT NULL ,
  log_date DATE ,
  browser varchar(48) NOT NULL ,
);

create table finance_info(
  private_id INT(21) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT PRIMARY KEY,
  wallet1 VARCHAR(256) NOT NULL,
  wallet2 VARCHAR(256) NOT NULL,
  personal_id INT(21) NOT NULL,
  FOREIGN KEY (personal_id) REFERENCES personal_data(personal_id)
);



create table invoices (
id_invoice int not null primary key,
monto   decimal(20,2),
cliente varchar(100),
fecha_creacion date
);


select * from invoices;

insert into invoices (id_invoice,monto,cliente,fecha_creacion)values (5,500.20,'C000233','2017-07-20')

;

select sum(i.monto) as monto from invoices i where i.fecha_creacion = '2017-08-20';



select sum(i.monto) as monto from invoices i where i.fecha_creacion between '2017-07-20' and '2017-07-25';


update invoices set monto = 1000.20 where id_invoice = 5

create table invoices_copy (
id_invoice int not null primary key,
monto   decimal(20,2),
cliente varchar(100),
fecha_creacion date
);


CREATE TRIGGER update_in_invoices
BEFORE UPDATE ON invoices FOR EACH ROW
insert into invoices_copy (id_invoice,monto,cliente,fecha_creacion)
values(OLD.id_invoice,OLD.monto,OLD.cliente,OLD.fecha_creacion);

#UPDATE invoices set monto= 20.20 where id_invoice =1;

call look_invoice_copy



\\\
create table factura(id_fact, id_user, costo, date); agraga los valores
insert into factura(1,500,2017-20-12);
select sum(costo) as monto from factura where date  between '2017-02-20' and '2017-04-05';
create table registro(id_factura, id_user, costo, date, fecha datetime); agraga los valores
create trigger update after insert on factura for each row insert into registor(id_factura,id_use,costo,date, fecha) values(new.id_fact,new.id_use,new.costo,now());


delimiter //
create procedure mostrar(in id int(6))
    -> begin
    -> select * from registro where id_fact = id_factura;
    -> end;
    -> //
delimiter ;
